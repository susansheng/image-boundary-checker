# Web 界面使用指南

## 🌐 启动服务器

### 快速启动

在终端中运行：

```bash
cd "/Users/sxsheng/Documents/代码/图片边界验收工具"
./start_server.sh
```

或者直接运行：

```bash
python3 web_validator.py
```

### 启动成功提示

当看到以下信息时，表示服务器已成功启动：

```
============================================================
图片规范检测工具 - Web 界面
============================================================

正在启动服务器...

🌐 访问地址: http://localhost:5000
📱 或访问: http://127.0.0.1:5000

安全区域边界:
  左: 14px
  右: 285px
  上: 24px
  下: 175px

按 Ctrl+C 停止服务器
============================================================
```

## 📱 使用 Web 界面

### 1. 打开浏览器

在浏览器地址栏输入以下任一地址：
- http://localhost:5000
- http://127.0.0.1:5000

### 2. 上传图片

**方式一：点击上传**
- 点击页面中的上传区域
- 在弹出的文件选择框中选择图片
- 点击"打开"

**方式二：拖拽上传（推荐）**
- 直接将图片文件拖到上传区域
- 松开鼠标即可自动上传

### 3. 查看检测结果

上传后会立即显示检测结果：

**符合规范 ✓**
- 绿色背景显示
- 提示"检测通过"
- 显示图片详细信息

**不符合规范 ✗**
- 红色背景显示
- 列出所有错误详情
- 显示超出像素数量
- 展示图片预览

### 4. 查看模板示例

页面底部有模板示例图片，显示：
- 红色区域：边界限制区
- 白色区域：安全区域（图片内容必须在此区域内）

## 🎨 界面功能

### 主要功能区域

1. **规范说明区**
   - 显示图片尺寸要求
   - 显示安全区域边界值
   - 显示检测标准

2. **上传区域**
   - 支持点击上传
   - 支持拖拽上传
   - 显示上传提示信息

3. **结果显示区**
   - 检测结果（通过/未通过）
   - 错误详情列表
   - 图片预览
   - 详细信息（尺寸、格式、颜色模式等）

4. **模板示例区**
   - 显示规范模板
   - 标注安全区域

### 支持的图片格式

- PNG
- JPG / JPEG
- GIF
- BMP
- WebP
- 其他常见图片格式

### 文件大小限制

- 最大支持 16MB 的图片文件

## ⚡️ 快捷操作

1. **批量检测**
   - 上传一张图片查看结果后
   - 直接拖拽下一张图片
   - 无需刷新页面

2. **实时反馈**
   - 上传即检测
   - 结果立即显示
   - 无需等待

3. **详细信息**
   - 自动显示图片尺寸
   - 自动显示图片格式
   - 自动显示颜色模式
   - 显示超出像素数量

## 🔧 停止服务器

在运行服务器的终端窗口中按：

```
Ctrl + C
```

## 💡 常见问题

### Q: 页面打不开？
A: 确保：
1. 服务器已启动
2. 地址正确：http://localhost:5000
3. 端口 5000 没有被其他程序占用

### Q: 上传后没有反应？
A: 检查：
1. 图片文件是否有效
2. 文件大小是否超过 16MB
3. 浏览器控制台是否有错误信息

### Q: 如何修改端口？
A: 编辑 `web_validator.py` 文件，修改最后一行：
```python
app.run(host='127.0.0.1', port=5000, debug=True)
```
将 `port=5000` 改为其他端口号

### Q: 如何在局域网中访问？
A: 修改 `web_validator.py` 最后一行：
```python
app.run(host='0.0.0.0', port=5000, debug=True)
```
然后通过本机 IP 地址访问，例如：http://192.168.1.100:5000

## 🎯 使用技巧

1. **对比检测**
   - 打开两个浏览器窗口
   - 并排显示
   - 方便对比多张图片的检测结果

2. **保存结果**
   - 使用浏览器的截图功能
   - 保存检测结果页面
   - 方便后续查看和分享

3. **快速测试**
   - 使用项目自带的测试图片
   - 快速验证工具是否正常工作

## 📊 检测标准

### 必须满足的要求

1. **尺寸要求**
   - 宽度：300px
   - 高度：200px

2. **安全区域要求**
   - 左边界：≥ 14px
   - 右边界：≤ 285px
   - 上边界：≥ 24px
   - 下边界：≤ 175px

### 检测原理

- 逐像素扫描整张图片
- 检测所有非透明像素（alpha > 10）
- 判断是否在安全区域内
- 统计超出边界的像素数量

## 🚀 性能说明

- 上传速度：取决于网络和图片大小
- 检测速度：300x200 图片约 0.1-0.5 秒
- 支持并发：多人同时访问检测

---

**提示**：首次使用建议先用测试图片验证功能是否正常！
